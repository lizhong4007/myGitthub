/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2011 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.6.0-dev
 *
 */(function(a){a.fn.lazyload=function(c){var b={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:window,skip_invisible:!0};c&&(null!==c.failurelimit&&(c.failure_limit=c.failurelimit,delete c.failurelimit),a.extend(b,c));var d=this;0==b.event.indexOf("scroll")&&a(b.container).bind(b.event,function(c){var e=0;d.each(function(){if(!(b.skip_invisible&&!a(this).is(":visible")||a.abovethetop(this,b)||a.leftofbegin(this,b)))if(!a.belowthefold(this,b)&&!a.rightoffold(this,b))a(this).trigger("appear");else if(++e>b.failure_limit)return!1});c=a.grep(d,function(a){return!a.loaded});d=a(c)});this.each(function(){var c=this;c.loaded=!1;a(c).one("appear",function(){this.loaded||a("\x3cimg /\x3e").bind("load",function(){a(c).hide().attr("src",a(c).data("original"))[b.effect](b.effectspeed);c.loaded=!0}).attr("src",a(c).data("original"))});0!=b.event.indexOf("scroll")&&a(c).bind(b.event,function(b){c.loaded||a(c).trigger("appear")})});a(b.container).trigger(b.event);return this};a.belowthefold=function(c,b){return(void 0===b.container||b.container===window?a(window).height()+a(window).scrollTop():a(b.container).offset().top+a(b.container).height())<=a(c).offset().top-b.threshold};a.rightoffold=function(c,b){return(void 0===b.container||b.container===window?a(window).width()+a(window).scrollLeft():a(b.container).offset().left+a(b.container).width())<=a(c).offset().left-b.threshold};a.abovethetop=function(c,b){return(void 0===b.container||b.container===window?a(window).scrollTop():a(b.container).offset().top)>=a(c).offset().top+b.threshold+a(c).height()};a.leftofbegin=function(c,b){return(void 0===b.container||b.container===window?a(window).scrollLeft():a(b.container).offset().left)>=a(c).offset().left+b.threshold+a(c).width()};a.extend(a.expr[":"],{"below-the-fold":function(c){return a.belowthefold(c,{threshold:0,container:window})},"above-the-fold":function(c){return!a.belowthefold(c,{threshold:0,container:window})},"right-of-fold":function(c){return a.rightoffold(c,{threshold:0,container:window})},"left-of-fold":function(c){return!a.rightoffold(c,{threshold:0,container:window})}})})(jQuery);